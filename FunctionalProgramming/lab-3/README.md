# Лабораторная работа №3

---

* Студент: `Разинкин Александр Владимирович`
* Группа: `P3307`
* ИСУ: `368712`
* Функциональный язык: `Elixir`
* Используемый инструментарий: `Чистые процессы Beam` (т.е. без использования поведений)

--- 

## Описание работы

Цель: получить навыки работы с вводом/выводом, потоковой обработкой данных, командной строкой.
В рамках лабораторной работы вам предлагается повторно реализовать лабораторную работу по предмету "Вычислительная математика" посвящённую интерполяции (в разные годы это лабораторная работа 3 или 4) со следующими дополнениями:

* обязательно должна быть реализована линейная интерполяция (отрезками, link);
* настройки алгоритма интерполяции и выводимых данных должны задаваться через аргументы командной строки:

  * какие алгоритмы использовать (в том числе два сразу);
  * частота дискретизации результирующих данных;
  * и т.п.;

* входные данные должны задаваться в текстовом формате на подобии ".csv" (к примеру x;y\n или x\ty\n) и подаваться на стандартный ввод, входные данные должны быть отсортированы по возрастанию x;
* выходные данные должны подаваться на стандартный вывод;
* программа должна работать в потоковом режиме (пример -- cat | grep 11), это значит, что при запуске программы она должна ожидать получения данных на стандартный ввод, и, по мере получения достаточного количества данных, должна выводить рассчитанные точки в стандартный вывод;

--- 

## Архитектура приложения

```
+---------------------------+
| Обработка входного потока |
|   (см. input_reader.ex)   |
+---------------------------+
             |
             | Новая точка
             v
+---------------------------+
|   Алгоритм интерполяции   |
|            и              |
|     генератор точек       |
|   (см. calculator.ex)     |
|            и              |
|   (см. interpolation)     |
+---------------------------+
             |
             | Результаты вычислений
             v
+---------------------------+
|  Печать выходных значений |
|  (см. output_printer.ex)  |
+---------------------------+         
```

--- 

## Вывод

В рамках выполнения данной лабораторной работы я:

- поработал с вводом и выводом Elixir
- реализовал свои серверные процессы (процессы, предназначенные для длительной работы и, как правило, имеют состояние)
- поработал с механизмом сообщений, предназначенным для взаимодействия между процессами

---

## Пример работы программы

```
➜  functional_programming_lab3 git:(main) ✗ elixir lib/start.exs method1=linear method2=lagrange3 step=1
0 0
1.571 1

Result:
Linear (go from 0.0 with step 1)
0.0  1.0  2.0  
0.0  0.64  1.27  

3.142 0

Result:
Linear (go from 1.571 with step 1)
1.57  2.57  3.57  
1.0  0.36  -0.27  

4.712 -1

Result:
Linear (go from 3.142 with step 1)
3.14  4.14  5.14  
0.0  -0.64  -1.27  


Result:
Lagrange3 (go from 0.0 with step 1)
0.0  1.0  2.0  3.0  4.0  5.0  
0.0  0.97  0.84  0.12  -0.67  -1.03  

12.568 0

Result:
Linear (go from 4.712 with step 1)
4.71  5.71  6.71  7.71  8.71  9.71  10.71  11.71  12.71  
-1.0  -0.87  -0.75  -0.62  -0.49  -0.36  -0.24  -0.11  0.02  


Result:
Lagrange3 (go from 1.571 with step 1)
1.57  2.57  3.57  4.57  5.57  6.57  7.57  8.57  9.57  10.57  11.57  12.57  
1.0  0.37  -0.28  -0.91  -1.49  -1.95  -2.26  -2.38  -2.25  -1.84  -1.11  0.0  

exit
Shutdown system
```
